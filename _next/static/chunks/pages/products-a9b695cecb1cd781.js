(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{6029:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/products",function(){return i(5245)}])},5245:function(e,s,i){"use strict";i.r(s),i.d(s,{__N_SSG:function(){return x},default:function(){return h}});var t=i(4246),r=i(8038),a=i.n(r),l=i(9894),n=i.n(l),c=i(7378),d=i(6677),o=i(7661),u=i(504),m=i(236);let p=e=>"string"==typeof e?e.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim():"";var x=!0;function h(e){let{initialNavigation:s,initialFooter:i,initialProducts:r,initialSeries:l}=e,{locale:x}=(0,u.Q)(),h=m.I[x].products,g=(0,d.useRouter)(),[f,N]=(0,c.useState)(r),[_,v]=(0,c.useState)(l),[y,j]=(0,c.useState)("");(0,c.useEffect)(()=>{N(r)},[r]),(0,c.useEffect)(()=>{v(l)},[l]),(0,c.useEffect)(()=>{let{series:e}=g.query;"string"==typeof e&&j(e)},[g.query.series]);let b=(0,c.useMemo)(()=>[..._].sort((e,s)=>{var i,t;return(null!==(i=e.order)&&void 0!==i?i:0)-(null!==(t=s.order)&&void 0!==t?t:0)}).map(e=>({...e,displayName:e["name_".concat(x)]||e.name_zh||e.slug||""})),[_,x]),w=(0,c.useMemo)(()=>f.map(e=>({...e,displayName:e["name_".concat(x)]||e.name_zh||e.product_id,displayDescription:e["desc_".concat(x)]||e.desc_zh||""})),[f,x]),E=y?w.filter(e=>e.series_id===y):w;return(0,t.jsxs)(o.Z,{initialNavigation:s,initialFooter:i,children:[(0,t.jsx)(a(),{children:(0,t.jsxs)("title",{children:[h.title," - 尊茗茶业"]})}),(0,t.jsx)("div",{className:"section-padding bg-gray-50",children:(0,t.jsxs)("div",{className:"container-custom",children:[(0,t.jsx)("h1",{className:"text-display font-bold mb-12 text-center text-primary-800",children:h.title}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-8 flex flex-col md:flex-row md:items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:h.filterLabel||"按系列筛选"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:h.filterHint||"选择一个系列即可只查看该系列产品。"})]}),(0,t.jsxs)("select",{className:"input md:w-80",value:y,onChange:e=>{let s=e.target.value;j(s);let i=s?"/products?series=".concat(s):"/products";g.push(i,void 0,{shallow:!0})},children:[(0,t.jsx)("option",{value:"",children:h.allSeries||"全部系列"}),b.map(e=>(0,t.jsx)("option",{value:e.series_id,children:e.displayName},e.series_id))]})]}),0===E.length?(0,t.jsx)("div",{className:"text-center py-12",children:(0,t.jsx)("p",{className:"text-gray-600",children:"暂无产品"})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6",children:E.map(e=>{var s;return(0,t.jsx)(n(),{href:"/products/".concat(e.product_id),children:(0,t.jsxs)("div",{className:"card overflow-hidden cursor-pointer h-full hover:shadow-lg transition-shadow",children:[e.image_url?(0,t.jsx)("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:(0,t.jsx)("img",{src:e.image_url,alt:e.displayName,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-105"})}):(0,t.jsx)("div",{className:"aspect-square bg-gray-200"}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:e.displayName}),(0,t.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:p(e.displayDescription)}),e.series_id&&(0,t.jsxs)("p",{className:"text-xs text-primary-600 mt-2",children:[h.seriesLabel||"系列",":"," ",(null===(s=b.find(s=>s.series_id===e.series_id))||void 0===s?void 0:s.displayName)||e.series_id]}),e.origin&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:[h.origin,": ",e.origin]}),e.type&&(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[h.type,": ",e.type]})]})]})},e.product_id)})})]})})]})}}},function(e){e.O(0,[271,661,888,774,179],function(){return e(e.s=6029)}),_N_E=e.O()}]);